# useEffect ë™ì‘ ì›ë¦¬

## useEffectë€?

> ğŸ’¡ _useEffectëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ì™¸ë¶€ ì‹œìŠ¤í…œê³¼ ë™ê¸°í™” í•  ìˆ˜ ìˆëŠ” React Hookì´ë‹¤._
> â€” [React Docs: useEffect](https://react.dev/reference/react/useEffect)

- `useEffect`ëŠ” React ì»´í¬ë„ŒíŠ¸ì˜ ë¼ì´í”„ì‚¬ì´í´ ì‹œì ì— ë§ì¶° ì‹¤í–‰ë  ë¶€ìˆ˜ íš¨ê³¼ë¥¼ ë“±ë¡í•˜ëŠ” Hookì´ë‹¤.

## useEffect Hookì˜ ë™ì‘ ì›ë¦¬

### ê¸°ë³¸ êµ¬ì¡°
`useEffect`ëŠ” ë‘ ê°œì˜ ì¸ìë¥¼ ë°›ëŠ”ë‹¤:
```javascript
useEffect(effect, deps);
```

### ì¸ì
1. **ì´í™íŠ¸ í•¨ìˆ˜ (setup í•¨ìˆ˜)**
   - Effectì˜ ë¡œì§ì„ í¬í•¨í•˜ëŠ” í•¨ìˆ˜
   - ë Œë”ë§ì´ ëë‚œ í›„ ì‹¤í–‰ë˜ë©°, DOM ì—…ë°ì´íŠ¸ê°€ ì™„ë£Œëœ ë’¤ ë™ì‘
   - cleanup í•¨ìˆ˜ë¥¼ ë°˜í™˜í•  ìˆ˜ ìˆìŒ (ì„ íƒì‚¬í•­)

2. **dependency ë°°ì—´ (deps)**
   - ì½”ë“œ ë‚´ë¶€ì—ì„œ ì°¸ì¡°ë˜ëŠ” ëª¨ë“  ê°’ë“¤ì„ ë°°ì—´ë¡œ ì „ë‹¬
   - props, state, ê·¸ ì™¸ ì°¸ì¡°ë˜ëŠ” ëª¨ë“  ê°’ë“¤ í¬í•¨
   - ReactëŠ” `Object.is`ë¥¼ ì‚¬ìš©í•˜ì—¬ ì´ì „ ê°’ê³¼ ë¹„êµ

### ì‹¤í–‰ ì‹œì ê³¼ ì¡°ê±´
- **ê¸°ë³¸ ë™ì‘**: ì»´í¬ë„ŒíŠ¸ì˜ ì²« ë²ˆì§¸ ë Œë”ë§ ì´í›„ ì‹¤í–‰, ì´í›„ ëª¨ë“  ì—…ë°ì´íŠ¸ì—ì„œ ìˆ˜í–‰
- **ì‹¤í–‰ ì‹œì **: DOMì´ ì—…ë°ì´íŠ¸ëœ ì´í›„ (ë¹„ë™ê¸°ì ìœ¼ë¡œ ì‹¤í–‰)

### dependency ë°°ì—´ì— ë”°ë¥¸ ë™ì‘
- **ë¹ˆ ë°°ì—´ `[]`**: ì»´í¬ë„ŒíŠ¸ mount ì‹œì ì— í•œ ë²ˆë§Œ ì‹¤í–‰
- **ë°°ì—´ ìƒëµ**: ì»´í¬ë„ŒíŠ¸ê°€ ë¦¬ë Œë”ë§ë  ë•Œë§ˆë‹¤ ì‹¤í–‰
- **ê°’ í¬í•¨**: ì§€ì •ëœ ê°’ì´ ë³€ê²½ë  ë•Œë§Œ ì‹¤í–‰

### useEffectê°€ ì™œ í•„ìš”í• ê¹Œ?

React í•¨ìˆ˜ ì»´í¬ë„ŒíŠ¸ëŠ” ë Œë”ë§ ë  ë•Œë§ˆë‹¤ í•¨ìˆ˜ê°€ ë‹¤ì‹œ ì‹¤í–‰ëœë‹¤.
ì¦‰, ê·¸ ì•ˆì—ì„œ ì •ì˜ëœ í•¨ìˆ˜ë“¤ì€ ê·¸ ì‹œì ì˜ propsì™€ stateë¥¼ ìº¡ì²˜í•œë‹¤. ([í´ë¡œì €](../javascript/closure.md)ë¡œ ì¸í•´ ì¼ì–´ë‚˜ëŠ” í˜„ìƒ)
React ì»´í¬ë„ŒíŠ¸ ì•ˆì˜ props/stateëŠ” React íŠ¸ë¦¬ ë‚´ë¶€ ìƒíƒœì¸ë°, `useEffect`ë¥¼ ì‚¬ìš©í•˜ë©´ ì´ ìƒíƒœë¥¼ Reactì—ì„œ ì œì–´ë˜ì§€ ì•ŠëŠ” ì™¸ë¶€ ì‹œìŠ¤í…œê³¼ ë™ê¸°í™” í•  ìˆ˜ ìˆë‹¤.
"ì™¸ë¶€ ì‹œìŠ¤í…œ"ì´ë€?

- DOM (ìŠ¤í¬ë¡¤, í¬ì»¤ìŠ¤, ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±)
- ë¡œì»¬ ìŠ¤í† ë¦¬ì§€
- ë„¤íŠ¸ì›Œí¬ ìš”ì²­
- íƒ€ì´ë¨¸(setInterval, setTimeout)
- ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬(API, ì°¨íŠ¸, ì§€ë„ ë“±)

ì´ëŸ° ê²ƒë“¤ì„ React state ë³€í™”ì— ë§ì¶° ë™ê¸°í™”í•˜ëŠ” ê²ƒì´ `useEffect`ì˜ ì—­í• ì´ë‹¤.

```javascript
function Counter({ initial }) {
  const [count, setCount] = React.useState(initial);

  React.useEffect(() => {
    document.title = `í˜„ì¬ ì¹´ìš´íŠ¸: ${count}`; // document.title(ì™¸ë¶€ ì‹œìŠ¤í…œ)ì„,
  }, [count]); // count ê°’(dependency)ì´ ë³€í•  ë•Œ ë§ˆë‹¤ ë°”ê¹¥ì˜ ê°’ì„ ë§ì¶°ì¤Œ "ë™ê¸°í™”"

  return <button onClick={() => setCount(count + 1)}>{count}</button>;
}
```

## ì •ë¦¬(clean-up)ë¥¼ ì´ìš©í•˜ëŠ” Effects

- cleanup í•¨ìˆ˜ëŠ” effect í•¨ìˆ˜ì—ì„œ **ë¦¬í„´**ë˜ëŠ” í•¨ìˆ˜ì´ë©°, ì»´í¬ë„ŒíŠ¸ê°€ unmountë  ë•Œ, ê·¸ë¦¬ê³  ë³€ê²½ëœ depsë¡œ ë‹¤ì‹œ ë¦¬ë Œë”ë§í•  ë•Œë§ˆë‹¤ (ì´ì „ effectë¥¼ ì •ë¦¬í•  í•„ìš”ê°€ ìˆì„ ë•Œ) ì‹¤í–‰ëœë‹¤.
- ì»´í¬ë„ŒíŠ¸ unmount -> cleanup í•¨ìˆ˜ ì‹¤í–‰ -> ì»´í¬ë„ŒíŠ¸ mount -> effect í•¨ìˆ˜ ì‹¤í–‰
- Reactì—ì„œëŠ” useEffect ì•ˆì—ì„œ <u>êµ¬ë…</u>ì„ ì„¤ì •í•˜ê³ , cleanup í•¨ìˆ˜ì—ì„œ ë°˜ë“œì‹œ êµ¬ë… í•´ì œë¥¼ í•´ì¤˜ì•¼ í•œë‹¤.

> ğŸ’¡ êµ¬ë…(subscription)ì´ë€?
> ì–´ë–¤ ì™¸ë¶€ ì†ŒìŠ¤ì—ì„œ ê°’ì´ ë³€í•  ë•Œë§ˆë‹¤ ì•Œë¦¼ì„ ë°›ëŠ” ê²ƒì„ ë§í•œë‹¤.
> ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ, ë¸Œë¼ìš°ì € API, ë°ì´í„° ìŠ¤íŠ¸ë¦¼ ë“±ì„ ì˜ˆì‹œë¡œ ë“¤ ìˆ˜ ìˆë‹¤.
> ì¦‰, ë‚´ ì½”ë“œê°€ ëŠ¥ë™ì ìœ¼ë¡œ ìš”ì²­(fetch)í•˜ëŠ” ê²Œ ì•„ë‹ˆë¼,
> ì™¸ë¶€ì—ì„œ ê°’ì´ ë°”ë€Œë©´ ìë™ìœ¼ë¡œ ì½œë°±ì´ ì‹¤í–‰ë˜ëŠ” êµ¬ì¡°ì´ë‹¤.

### cleanupì„ í•˜ëŠ” ì´ìœ 

1. Reactê°€ DOMì„ ì—…ë°ì´íŠ¸í•œ ë’¤ ì¶”ê°€ë¡œ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ëŠ” ê²½ìš° cleanupì´ í•„ìš”í•˜ì§€ ì•Šë‹¤. (ì‹¤í–‰ ì´í›„ ì‹ ê²½ì“¸ ê²ƒì´ ì—†ëŠ” ê²½ìš°)
    - ë„¤íŠ¸ì›Œí¬ ìš”ì²­ â†’ ìš”ì²­ í›„ ê²°ê³¼ë§Œ ì²˜ë¦¬
    - ë¡œê¹…, ì•Œë¦¼ íŠ¸ë¦¬ê±° â†’ í›„ì† ê´€ë¦¬ í•„ìš” ì—†ìŒ
    - DOM ì§ì ‘ ì¡°ì‘ â†’ ì¼íšŒì„± ì—…ë°ì´íŠ¸
2. Effectê°€ ì¤‘ë³µ ì‹¤í–‰ë˜ì§€ ì•Šë„ë¡ ê´€ë¦¬í•˜ê¸° ìœ„í•´
    - `setInterval`, `setTimeout`ì„ ì‚¬ìš©í•´ ë“±ë¡í•œ ì‘ì—…ì€ clearí•˜ì§€ ì•Šìœ¼ë©´ ì¤‘ì²©ìœ¼ë¡œ ì‹¤í–‰ë˜ê¸° ë•Œë¬¸ì— ì˜ë„ì¹˜ ì•Šì€ ë™ì‘ì„ ë°œìƒì‹œí‚¬ ìˆ˜ ìˆë‹¤.
    - ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ(`addEventListener`)ë¥¼ ì œê±°í•˜ì§€ ì•Šìœ¼ë©´ ì´ë²¤íŠ¸ê°€ ì¤‘ë³µìœ¼ë¡œ ì‹¤í–‰ëœë‹¤.
3. ë¦¬ë Œë”ë§ ë˜ì—ˆì„ ë•Œ Reactê°€ effectë¥¼ ì‹¤í–‰í•˜ê¸° ì „ì— ì´ì „ì˜ ë Œë”ë§ì—ì„œ íŒŒìƒëœ effectë¥¼ ì •ë¦¬í•´ì£¼ì–´ì•¼ í•œë‹¤.
4. ë©”ëª¨ë¦¬ ëˆ„ìˆ˜(Memory Leak)ë¥¼ ë°©ì§€, ì„±ëŠ¥ ìµœì í™”ë¥¼ ìœ„í•´
    - ì •ë¦¬ë˜ì§€ ì•Šì€ íƒ€ì´ë¨¸, ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬, êµ¬ë…(subscription)ì´ ê³„ì† ë‚¨ì•„ìˆìœ¼ë©´ ë©”ëª¨ë¦¬ë¥¼ ì ì  ì†Œë¹„í•˜ê²Œ ëœë‹¤.
    - ì»´í¬ë„ŒíŠ¸ê°€ ì–¸ë§ˆìš´íŠ¸ëœ ì´í›„ì—ë„ ë‚¨ì•„ìˆì„ ìˆ˜ ìˆìŒ -> ì´ë¯¸ ì‚¬ë¼ì§„ ì»´í¬ë„ŒíŠ¸ì— ì ‘ê·¼í•˜ëŠ” ì—ëŸ¬ë¥¼ ë°œìƒì‹œí‚¬ ìˆ˜ ìˆë‹¤.
    - íŠ¹íˆ WebSocket, Firebase, RxJS ê°™ì€ ìŠ¤íŠ¸ë¦¼ êµ¬ë…ì„ í•´ì œí•˜ì§€ ì•Šìœ¼ë©´ ì•±ì´ ì˜¤ë˜ ì¼œì§ˆìˆ˜ë¡ ì„±ëŠ¥ ì €í•˜ ë°œìƒí•œë‹¤.
5. ë¦¬ì†ŒìŠ¤ ê´€ë¦¬ ì°¨ì›
    - ì™¸ë¶€ API ì—°ê²°(WebSocket, ì„œë²„ Sent Events ë“±)ì„ í•´ì œí•˜ì§€ ì•Šìœ¼ë©´ ë¶ˆí•„ìš”í•œ ë„¤íŠ¸ì›Œí¬ ë¹„ìš© ë°œìƒí•œë‹¤.
    - ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì¸ìŠ¤í„´ìŠ¤(API, ì°¨íŠ¸, ì§€ë„ ë“±)ë¥¼ cleanup í•˜ì§€ ì•Šìœ¼ë©´ ì¤‘ë³µìœ¼ë¡œ ìƒì„±ë¼ ë Œë”ë§ ì„±ëŠ¥ ì €í•˜ë¥¼ ë°œìƒì‹œí‚¨ë‹¤.
  
ì •ë¦¬í•˜ë©´, cleanupì€ ì¤‘ë³µ ì‹¤í–‰ ë°©ì§€, ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ë°©ì§€, ë¶ˆí•„ìš”í•œ ë¦¬ì†ŒìŠ¤ ì ìœ  ë°©ì§€ë¼ëŠ” ì„±ëŠ¥/ì•ˆì •ì„± ì´ìœ  ë•Œë¬¸ì— í•„ìš”í•˜ë‹¤.

## useEffect Hookì˜ í™œìš© ì˜ˆì‹œ

### 1. API í˜¸ì¶œ & ìƒíƒœ ë™ê¸°í™” (ë°ì´í„° íŒ¨ì¹­)

   ```tsx
   import { useEffect, useState } from 'react';

   function UserList() {
     const [users, setUsers] = useState([]);

     useEffect(() => {
       let ignore = false;

       fetch('/api/users')
         .then((res) => res.json())
         .then((data) => {
           if (!ignore) setUsers(data);
         });

       return () => {
         ignore = true; // ì–¸ë§ˆìš´íŠ¸ ì‹œ setState ë°©ì§€
       };
     }, []); // mount ì‹œ 1íšŒ í˜¸ì¶œ

     return (
       <ul>
         {users.map((u) => (
           <li key={u.id}>{u.name}</li>
         ))}
       </ul>
     );
   }
   ```

### 2. ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡/í•´ì œ (ìŠ¤í¬ë¡¤, resize, í‚¤ë³´ë“œ)

   ```tsx
   import { useEffect, useState } from 'react';

   function ScrollTracker() {
     const [scrollY, setScrollY] = useState(0);

     useEffect(() => {
       const handleScroll = () => setScrollY(window.scrollY);

       window.addEventListener('scroll', handleScroll);

       return () => {
         window.removeEventListener('scroll', handleScroll);
       };
     }, []);

     return <div>í˜„ì¬ ìŠ¤í¬ë¡¤ ìœ„ì¹˜: {scrollY}px</div>;
   }
   ```

### 3. ì™¸ë¶€ ì‹œìŠ¤í…œê³¼ ìƒíƒœ ë™ê¸°í™” (WebSocket, localStorage, íƒ€ì´ë¨¸)

   ```tsx
   import { useEffect, useState } from 'react';

   function Chat() {
     const [messages, setMessages] = useState<string[]>([]);

     useEffect(() => {
       const ws = new WebSocket('wss://example.com/chat');

       ws.onmessage = (event) => {
         setMessages((prev) => [...prev, event.data]);
       };

       return () => {
         ws.close(); // ì—°ê²° í•´ì œ
       };
     }, []);

     return (
       <ul>
         {messages.map((m, i) => (
           <li key={i}>{m}</li>
         ))}
       </ul>
     );
   }
   ```


## ì£¼ì˜ì‚¬í•­

### 1. ë¬´í•œ ë£¨í”„ ë°©ì§€
ì˜ì¡´ì„± ë°°ì—´ì— ê°ì²´ë‚˜ í•¨ìˆ˜ë¥¼ ì§ì ‘ í¬í•¨í•˜ë©´ ë§¤ë²ˆ ìƒˆë¡œìš´ ì°¸ì¡°ë¡œ ì¸ì‹ë˜ì–´ ë¬´í•œ ë£¨í”„ê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤.

```javascript
useEffect(() => {
  fetchData(user);
}, [user]); // user ê°ì²´ê°€ ë§¤ë²ˆ ìƒˆë¡œ ìƒì„±ë˜ë©´ ë¬´í•œ ë£¨í”„

// í•´ê²°ë°©ë²•
useEffect(() => {
  fetchData(user.id);
}, [user.id]); // ì›ì‹œê°’ë§Œ ì˜ì¡´ì„±ì— í¬í•¨
```
ì˜ˆì‹œì²˜ëŸ¼ primitiveê°’ë§Œ ì˜ì¡´ì„± ë°°ì—´ì— í¬í•¨í•˜ê±°ë‚˜, useCallback, useMemoë¥¼ ì‚¬ìš©í•˜ì—¬ ë©”ëª¨ì´ì œì´ì…˜ì„ í•  ìˆ˜ ìˆë‹¤.

### 2. ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ë°©ì§€
ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ, íƒ€ì´ë¨¸, êµ¬ë… ë“±ì„ ì •ë¦¬í•˜ì§€ ì•Šìœ¼ë©´ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ê°€ ë°œìƒí•œë‹¤.

```javascript
useEffect(() => {
  const timer = setInterval(() => {
    console.log('íƒ€ì´ë¨¸ ì‹¤í–‰');
  }, 1000);

  // cleanup í•¨ìˆ˜ ë°˜í™˜
  return () => {
    clearInterval(timer);
  };
}, []);
```

### 3. ì˜ì¡´ì„± ë°°ì—´ ê´€ë¦¬
ESLint ê²½ê³ ë¥¼ ë¬´ì‹œí•˜ê±°ë‚˜ ì˜ì¡´ì„±ì„ ì˜ëª» ê´€ë¦¬í•˜ë©´ ì˜ˆìƒì¹˜ ëª»í•œ ë™ì‘ì´ ë°œìƒí•œë‹¤.

```javascript
// ì˜ì¡´ì„± ëˆ„ë½
useEffect(() => {
  setCount(count + 1);
}, []); // countê°€ ì˜ì¡´ì„±ì— ì—†ìŒ

// í•´ê²°ë°©ë²•
useEffect(() => {
  setCount(prevCount => prevCount + 1);
}, []); // í•¨ìˆ˜í˜• ì—…ë°ì´íŠ¸ ì‚¬ìš©

// ë˜ëŠ”
useEffect(() => {
  setCount(count + 1);
}, [count]); // ì˜ì¡´ì„±ì— í¬í•¨
```

### 4. ì¡°ê±´ë¶€ Effect ì‹¤í–‰
ì¡°ê±´ ì—†ì´ Effectë¥¼ ì‹¤í–‰í•˜ë©´ ë¶ˆí•„ìš”í•œ API í˜¸ì¶œì´ë‚˜ ë¶€ìˆ˜ íš¨ê³¼ê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤.

```javascript
useEffect(() => {
  if (!userId) return; // ì¡°ê±´ë¶€ ì‹¤í–‰
  
  fetchUserData(userId);
}, [userId]);
```
useEffect ë‚´ë¶€ì—ì„œ íŠ¹ì • ì¡°ê±´ì„ ë§Œì¡±í•  ë•Œë§Œ ë¶€ìˆ˜ íš¨ê³¼ë¥¼ ì‹¤í–‰í•˜ë„ë¡ í•˜ì—¬
ë¶ˆí•„ìš”í•œ API í˜¸ì¶œ, ë¦¬ì†ŒìŠ¤ ë‚­ë¹„, ì˜ˆìƒì¹˜ ëª»í•œ ë¶€ìˆ˜ íš¨ê³¼ë¥¼ ë°©ì§€í•  ìˆ˜ ìˆë‹¤.

### 5. ë¹„ë™ê¸° í•¨ìˆ˜ ì²˜ë¦¬
useEffect ë‚´ë¶€ì—ì„œ ì§ì ‘ async/awaitë¥¼ ì‚¬ìš©í•˜ë©´ cleanupì´ ì œëŒ€ë¡œ ë™ì‘í•˜ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤.

```javascript
useEffect(async () => {
  const data = await fetchData();
  setData(data);
}, []);

useEffect(() => {
  let cancelled = false;
  
  const fetchData = async () => {
    const data = await api.getData();
    if (!cancelled) {
      setData(data);
    }
  };
  
  fetchData();
  
  return () => {
    cancelled = true;
  };
}, []);
```

## useEffectì™€ useLayoutEffectì˜ ì°¨ì´ì 
ë‘ í›…ì€ ëª¨ë‘ ë¶€ìˆ˜ íš¨ê³¼ë¥¼ ì‹¤í–‰í•˜ê¸° ìœ„í•´ ì‚¬ìš©ëœë‹¤.
ê·¸ëŸ¬ë‚˜ ì‹¤í–‰ ì‹œì ê³¼ ìš©ë„ê°€ ë‹¤ë¥´ë‹¤.
- **ì‹¤í–‰ ì‹œì **: `useEffect`ëŠ” ë Œë”ë§ í›„ ë¹„ë™ê¸°ì ìœ¼ë¡œ ì‹¤í–‰ë˜ë©°, `useLayoutEffect`ëŠ” ë Œë”ë§ í›„ DOMì´ ì—…ë°ì´íŠ¸ ë˜ê¸° ì§ì „ì˜ ì‹œì ì— ë™ê¸°ì ìœ¼ë¡œ ì‹¤í–‰ëœë‹¤.
  > 
  > ğŸ’¡ useEffectì˜ ë¹„ë™ê¸°ì  ì‹¤í–‰
  > ì´ë²¤íŠ¸ ë£¨í”„ì˜ íƒœìŠ¤í¬íì— ì½œë°±ì´ ìŒ“ì´ëŠ” ë°©ì‹ìœ¼ë¡œ ë™ì‘ -> DOMì´ ì—…ë°ì´íŠ¸ëœ í›„ì— ì‹¤í–‰
  > ğŸ’¡ useLayoutEffectì˜ ë™ê¸°ì  ì‹¤í–‰
  > ë Œë”ë§ í›„, í˜ì¸íŒ… ì „ì— ì‹¤í–‰ -> DOMì´ ì—…ë°ì´íŠ¸ë˜ê¸° ì „ì— ì‹¤í–‰

- **ìš©ë„**: `useEffect`ëŠ” ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ì‘ì—…ì´ë‚˜ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€ ë“± ë Œë”ë§ í›„ì— í™”ë©´ì— ì§ì ‘ì ì¸ ì˜í–¥ì„ ì£¼ì§€ ì•ŠëŠ” ì‘ì—…ì— ì£¼ë¡œ ì‚¬ìš©ë˜ë©°, `useLayoutEffect`ëŠ” DOMì˜ í¬ê¸°ë¥¼ ì¸¡ì •í•˜ê±°ë‚˜, ìœ„ì¹˜ë¥¼ ì¡°ì •í•´ì•¼ í•  ë•Œ ì‚¬ìš©í•˜ë©´ ì¦‰ê°ì ìœ¼ë¡œ ë³€ê²½ì‚¬í•­ì´ ë°˜ì˜ë˜ì–´ í™”ë©´ ê¹œë¹¡ì„ì´ë‚˜ ë¶ˆí•„ìš”í•œ ì¬ë Œë”ë§ì„ ë°©ì§€í•  ìˆ˜ ìˆë‹¤.
```tsx
import { useEffect, useLayoutEffect } from 'react';

function App() {
  useEffect(() => {
    console.log('useEffect');
  }, []);
  
  useLayoutEffect(() => {
    console.log('useLayoutEffect');
  }, []);

  return <div>Hello</div>;
}
```
- ì¶œë ¥ ê²°ê³¼: `useLayoutEffect` -> `useEffect`


## ì‹¤ìš©ì ì¸ íŒ

### Effectê°€ ë„ˆë¬´ ìì£¼ ì‹¤í–‰ë˜ëŠ” ê²½ìš°
- `useCallback`ê³¼ `useMemo`ë¡œ í•¨ìˆ˜ì™€ ê°ì²´ë¥¼ ë©”ëª¨ì´ì œì´ì…˜í•  ìˆ˜ ìˆë‹¤.
- ì˜ì¡´ì„± ë°°ì—´ì„ ìµœì†Œí™”í•œë‹¤.

### Effectê°€ ì‹¤í–‰ë˜ì§€ ì•ŠëŠ” ê²½ìš°  
- ì˜ì¡´ì„± ë°°ì—´ì— í•„ìš”í•œ ê°’ì´ ëª¨ë‘ í¬í•¨ë˜ì—ˆëŠ”ì§€ í™•ì¸í•œë‹¤.
- ESLint ê²½ê³ ë¥¼ í™•ì¸í•œë‹¤.

### ì„±ëŠ¥ ìµœì í™”
- ë¶ˆí•„ìš”í•œ EffectëŠ” ì œê±°í•œë‹¤.
- Effect ë‚´ë¶€ì˜ ë¬´ê±°ìš´ ì—°ì‚°ì„ `useMemo`ë¡œ ë¶„ë¦¬í•  ìˆ˜ ìˆë‹¤.
- Effect ë‚´ë¶€ì—ì„œ `setState` í˜¸ì¶œ ì‹œ ìƒíƒœ ì—…ë°ì´íŠ¸ê°€ ê³¼ë„í•˜ê²Œ ë°œìƒí•˜ë©´ ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§ì´ ë°˜ë³µë˜ì–´ ì„±ëŠ¥ ì €í•˜ê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤.
- Effect ë‚´ë¶€ì—ì„œ DOM ì½ê¸°/ì“°ê¸° ì‹œ ì„±ëŠ¥ ë©´ì—ì„œ `useLayoutEffect`ë¥¼ ì„ íƒí•˜ëŠ” ê²ƒì´ ìœ ë¦¬í•˜ë‹¤.
