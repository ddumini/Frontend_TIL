# ë¸Œë¼ìš°ì € ì €ì¥ì†Œ

> ì›¹ ë¸Œë¼ìš°ì €ì—ì„œ ë°ì´í„°ë¥¼ ì €ì¥í•˜ê³  ê´€ë¦¬í•˜ëŠ” ì„¸ ê°€ì§€ ì£¼ìš” ë°©ë²•: ì¿ í‚¤, ë¡œì»¬ìŠ¤í† ë¦¬ì§€, ì„¸ì…˜ìŠ¤í† ë¦¬ì§€

- ë¸Œë¼ìš°ì € ì €ì¥ì†ŒëŠ” í´ë¼ì´ì–¸íŠ¸ ì¸¡ì—ì„œ ë°ì´í„°ë¥¼ ì €ì¥í•˜ê³  ê´€ë¦¬í•˜ëŠ” ë©”ì»¤ë‹ˆì¦˜ì´ë‹¤.
- HTTPëŠ” ìš”ì²­ê³¼ ì‘ë‹µìœ¼ë¡œ ì´ë¤„ì§€ëŠ” í•˜ë‚˜ì˜ ì‚¬ì´í´ì´ ëë‚˜ë©´,
  ì—°ê²°ì´ ëŠì–´ì§€ëŠ” ë¬´ìƒíƒœì„±ì„ ë„ì–´ì„œ í´ë¼ì´ì–¸íŠ¸ì˜ ìƒíƒœë¥¼ ë³´ì¡´í•˜ì§€ ì•ŠëŠ”ë‹¤.
- í´ë¼ì´ì–¸íŠ¸ì˜ ìƒíƒœë¥¼ ì„œë²„ê°€ ì•„ë‹Œ í´ë¼ì´ì–¸íŠ¸ì— ì €ì¥í•´ë‘ê³  í•„ìš”ì‹œë§ˆë‹¤ ë°ì´í„°ë¥¼ êº¼ë‚´ì„œ
  ì„œë²„ì— ì „ë‹¬í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ HTTPìœ¼ì´ ë‹¨ì ì„ ë³´ì™„í•˜ê³ ì ì¿ í‚¤ì™€ ì›¹ ìŠ¤í† ë¦¬ì§€ë¥¼ ì‚¬ìš©í•œë‹¤.

## ğŸª ì¿ í‚¤ (Cookie)

ë§Œë£Œ ê¸°ê°„ì´ ìˆëŠ” í´ë¼ì´ì–¸íŠ¸ ë‹¨ì— ì €ì¥í•˜ëŠ” ì‘ì€ í…ìŠ¤íŠ¸ íŒŒì¼ë¡œ
ìš”ì²­ê³¼ ì‘ë‹µë§Œì´ ì¡´ì¬í–ˆë˜ HTTP ì›¹ì„¸ê³„ì—ì„œ ì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ê°€ ì£¼ê³  ë°›ì€ ë‚´ì—­ì„ ê¸°ì–µí•˜ê³  ë¶ˆëŸ¬ì˜¬ ìˆ˜ ìˆëŠ” í˜ì‹ ì ì¸ ì—­í•  ìˆ˜í–‰.

### íŠ¹ì§•

#### ì¥ì 

- ëŒ€ë¶€ë¶„ì˜ ë¸Œë¼ìš°ì €ê°€ ì§€ì›
- **ì„œë²„ í†µì‹ **: ëª¨ë“  HTTP ìš”ì²­ì— ìë™ìœ¼ë¡œ í¬í•¨
- **ì§€ì†ì„±**: ë§Œë£Œ ì‹œê°„ ì„¤ì • ê°€ëŠ¥ (ì„¸ì…˜ ì¿ í‚¤ vs ì˜êµ¬ ì¿ í‚¤)

#### ë‹¨ì 

- **ìš©ëŸ‰ ì œí•œ**: ì¿ í‚¤ë‹¹ ìµœëŒ€ 4KB, ë„ë©”ì¸ë‹¹ ìµœëŒ€ 50ê°œ (ë¸Œë¼ìš°ì €ë³„ ì°¨ì´)
- ë§¤ë²ˆ ì„œë²„ì— HTTP ìš”ì²­ì‹œ ê°™ì´ ì „ë‹¬ë˜ì–´ ì„œë²„ì— ë¶€ë‹´
- ì•”í˜¸í™”ê°€ ì•ˆë˜ì–´ ë¯¼ê°í•œ ë°ì´í„° ì €ì¥ ë¶ˆê°€
- CRSF(ì‚¬ì´íŠ¸ ê°„ ìš”ì²­ ìœ„ì¡°) ìœ„í˜‘ - ê³µê²©ìê°€ ì‚¬ìš©ìì˜ ìš”ì²­ì„ ê°€ë¡œì±„ ì‚¬ìš©ìì˜ ì˜ì§€ì™€ ìƒê´€ ì—†ì´ ë³´ì•ˆì ìœ¼ë¡œ ìœ„í—˜í•œ í–‰ë™ì„ í•˜ê²Œë” ë³€ì¡°í•˜ì—¬ ë¶€ë‹¹ ì´ìµì„ ì·¨í•˜ëŠ” í–‰ìœ„
- ë¬¸ìì—´ë§Œ ì €ì¥ ê°€ëŠ¥

### ë™ì‘ ì›ë¦¬

1. í´ë¼ì´ì–¸íŠ¸ê°€ ì„œë²„ì— HTTP ìš”ì²­
2. ì„œë²„ê°€ HTTP ì‘ë‹µì‹œ set-cookieë¥¼ í†µí•´ ì¿ í‚¤ ìƒì„±í•˜ì—¬ ì „ë‹¬
3. í´ë¼ì´ì–¸íŠ¸ëŠ” ì´ì œë¶€í„° ë§¤ HTTPì‹œ HTTP í—¤ë”ì— ì¿ í‚¤ ë‹´ì•„ì„œ ì „ì†¡
4. ë§Œë£Œ ê¸°ê°„ ì „ì´ë¼ë©´, ì¿ í‚¤ëŠ” ë¸Œë¼ìš°ì €ì— ì €ì¥ë˜ì–´ ìˆìœ¼ë©°, í•­ìƒ ìš”ì²­ì‹œ ì‚¬ìš© ê°€ëŠ¥
5. ë§Œë£Œëë‹¤ë©´ í´ë¼ì´ì–¸íŠ¸ê°€ ìƒˆë¡œ ì„œë²„ì— ìš”ì²­í•˜ì—¬ ì¿ í‚¤ ìƒˆë¡œ ë°œê¸‰

### ë™ì‘ ë°©ì‹

```jsx
import { useState, useEffect } from 'react';

// ì¿ í‚¤ ê´€ë ¨ ì»¤ìŠ¤í…€ í›…
function useCookie(name, defaultValue = '') {
  const [value, setValue] = useState(() => {
    // ì¿ í‚¤ ì½ê¸° í•¨ìˆ˜
    const getCookie = (cookieName) => {
      const value = `; ${document.cookie}`;
      const parts = value.split(`; ${cookieName}=`);
      if (parts.length === 2) return parts.pop().split(';').shift();
      return null;
    };

    return getCookie(name) || defaultValue;
  });

  const setCookie = (newValue, options = {}) => {
    const {
      expires = new Date(Date.now() + 365 * 24 * 60 * 60 * 1000), // 1ë…„
      path = '/',
      secure = true,
      sameSite = 'strict',
    } = options;

    document.cookie = `${name}=${newValue}; expires=${expires.toUTCString()}; path=${path}; ${
      secure ? 'secure;' : ''
    } samesite=${sameSite}`;
    setValue(newValue);
  };

  const deleteCookie = () => {
    document.cookie = `${name}=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/`;
    setValue('');
  };

  return [value, setCookie, deleteCookie];
}

// ì¿ í‚¤ ì‚¬ìš© ì˜ˆì‹œ ì»´í¬ë„ŒíŠ¸
function CookieExample() {
  const [username, setUsername, deleteUsername] = useCookie('username');

  return (
    <div>
      <p>í˜„ì¬ ì‚¬ìš©ì: {username || 'ì—†ìŒ'}</p>
      <button onClick={() => setUsername('john')}>ì‚¬ìš©ì ì„¤ì •</button>
      <button onClick={deleteUsername}>ì‚¬ìš©ì ì‚­ì œ</button>
    </div>
  );
}
```

### ë³´ì•ˆ ì†ì„±

- **Secure**: HTTPSì—ì„œë§Œ ì „ì†¡
- **HttpOnly**: JavaScript ì ‘ê·¼ ì°¨ë‹¨ (XSS ë°©ì§€)
- **SameSite**: CSRF ê³µê²© ë°©ì§€ (Strict, Lax, None)

### ì‚¬ìš© ì‚¬ë¡€

- ì‚¬ìš©ì ì¸ì¦ í† í°
- ì„¸ì…˜ ê´€ë¦¬
- ì‚¬ìš©ì ì„ í˜¸ë„ ì„¤ì •
- ì¶”ì  ë° ë¶„ì„

## ì›¹ ìŠ¤í† ë¦¬ì§€ë€?

- í´ë¼ì´ì–¸íŠ¸ì— ë°ì´í„°ë¥¼ ì €ì¥í•  ìˆ˜ ìˆë„ë¡ HTML5ë¶€í„° ë‚˜ì˜¨ ìƒˆë¡œìš´ ë°©ì‹ì˜ ë°ì´í„° ì €ì¥ì†Œ
- ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì™€ ì„¸ì…˜ ìŠ¤í† ë¦¬ì§€ ì¡´ì¬
- key, value ìŒì˜ í˜•íƒœë¡œ ì €ì¥
- window ê°ì²´ì˜ í”„ë¡œí¼í‹°ë¡œ ì¡´ì¬
- ë¬¸ìì—´ ì™¸ì—ë„ ìë°”ìŠ¤í¬ë¦½íŠ¸ ëª¨ë“  ì›ì‹œí˜• ë°ì´í„°ì™€ ê°ì²´ ì €ì¥ ê°€ëŠ¥
- HTML5ë¥¼ ì§€ì›í•˜ëŠ” ë¸Œë¼ìš°ì €ë§Œ ì‚¬ìš© ê°€ëŠ¥
- XSS(Cross-Site Scripting)ë¡œë¶€í„° ìœ„í—˜

## ğŸ’¾ ë¡œì»¬ìŠ¤í† ë¦¬ì§€ (LocalStorage)

### íŠ¹ì§•

- **ìš©ëŸ‰ ì œí•œ**: ë„ë©”ì¸ë‹¹ 5-10MB (ë¸Œë¼ìš°ì €ë³„ ì°¨ì´)
- **ì§€ì†ì„±**: ëª…ì‹œì ìœ¼ë¡œ ì‚­ì œí•˜ê¸° ì „ê¹Œì§€ ì˜êµ¬ ë³´ì¡´
- **ì„œë²„ í†µì‹ **: ì„œë²„ë¡œ ìë™ ì „ì†¡ë˜ì§€ ì•ŠìŒ

### ë™ì‘ ë°©ì‹

```jsx
import { useState, useEffect } from 'react';

// ë¡œì»¬ìŠ¤í† ë¦¬ì§€ ì»¤ìŠ¤í…€ í›…
function useLocalStorage(key, initialValue) {
  // ì´ˆê¸°ê°’ ì„¤ì •
  const [storedValue, setStoredValue] = useState(() => {
    try {
      const item = window.localStorage.getItem(key);
      return item ? JSON.parse(item) : initialValue;
    } catch (error) {
      console.error(`ë¡œì»¬ìŠ¤í† ë¦¬ì§€ ì½ê¸° ì˜¤ë¥˜: ${error}`);
      return initialValue;
    }
  });

  // ê°’ ì„¤ì • í•¨ìˆ˜
  const setValue = (value) => {
    try {
      // í•¨ìˆ˜ì¸ ê²½ìš° í˜„ì¬ ê°’ì„ ì¸ìë¡œ ì „ë‹¬
      const valueToStore = value instanceof Function ? value(storedValue) : value;
      setStoredValue(valueToStore);
      window.localStorage.setItem(key, JSON.stringify(valueToStore));
    } catch (error) {
      console.error(`ë¡œì»¬ìŠ¤í† ë¦¬ì§€ ì €ì¥ ì˜¤ë¥˜: ${error}`);
    }
  };

  // ê°’ ì‚­ì œ í•¨ìˆ˜
  const removeValue = () => {
    try {
      window.localStorage.removeItem(key);
      setStoredValue(initialValue);
    } catch (error) {
      console.error(`ë¡œì»¬ìŠ¤í† ë¦¬ì§€ ì‚­ì œ ì˜¤ë¥˜: ${error}`);
    }
  };

  return [storedValue, setValue, removeValue];
}

// ë¡œì»¬ìŠ¤í† ë¦¬ì§€ ì‚¬ìš© ì˜ˆì‹œ ì»´í¬ë„ŒíŠ¸
function LocalStorageExample() {
  const [theme, setTheme] = useLocalStorage('theme', 'light');
  const [user, setUser, removeUser] = useLocalStorage('user', null);

  return (
    <div>
      <div>
        <p>í˜„ì¬ í…Œë§ˆ: {theme}</p>
        <button onClick={() => setTheme(theme === 'light' ? 'dark' : 'light')}>í…Œë§ˆ ë³€ê²½</button>
      </div>

      <div>
        <p>ì‚¬ìš©ì ì •ë³´: {user ? JSON.stringify(user) : 'ì—†ìŒ'}</p>
        <button onClick={() => setUser({ name: 'John', age: 30 })}>ì‚¬ìš©ì ì„¤ì •</button>
        <button onClick={removeUser}>ì‚¬ìš©ì ì‚­ì œ</button>
      </div>
    </div>
  );
}
```

### ë¸Œë¼ìš°ì € ì§€ì›

- **ëª¨ë“  ëª¨ë˜ ë¸Œë¼ìš°ì €**: Chrome 4+, Firefox 3.5+, Safari 4+, IE 8+
- **ëª¨ë°”ì¼**: iOS Safari 3.2+, Android 2.1+

### ì‚¬ìš© ì‚¬ë¡€

- ì‚¬ìš©ì ì„¤ì • ë° ì„ í˜¸ë„
- ì• í”Œë¦¬ì¼€ì´ì…˜ ìƒíƒœ ì €ì¥
- ì˜¤í”„ë¼ì¸ ë°ì´í„° ìºì‹±
- ì¥ë°”êµ¬ë‹ˆ ì •ë³´

## ğŸ”„ ì„¸ì…˜ìŠ¤í† ë¦¬ì§€ (SessionStorage)

### íŠ¹ì§•

- **ìš©ëŸ‰ ì œí•œ**: ë„ë©”ì¸ë‹¹ 5-10MB (ë¡œì»¬ìŠ¤í† ë¦¬ì§€ì™€ ë™ì¼)
- **ì§€ì†ì„±**: ë¸Œë¼ìš°ì € íƒ­/ì°½ì´ ë‹«íˆë©´ ìë™ ì‚­ì œ
- **ì„œë²„ í†µì‹ **: ì„œë²„ë¡œ ìë™ ì „ì†¡ë˜ì§€ ì•ŠìŒ

### ë™ì‘ ë°©ì‹

```jsx
import { useState, useEffect } from 'react';

// ì„¸ì…˜ìŠ¤í† ë¦¬ì§€ ì»¤ìŠ¤í…€ í›…
function useSessionStorage(key, initialValue) {
  const [storedValue, setStoredValue] = useState(() => {
    try {
      const item = window.sessionStorage.getItem(key);
      return item ? JSON.parse(item) : initialValue;
    } catch (error) {
      console.error(`ì„¸ì…˜ìŠ¤í† ë¦¬ì§€ ì½ê¸° ì˜¤ë¥˜: ${error}`);
      return initialValue;
    }
  });

  const setValue = (value) => {
    try {
      const valueToStore = value instanceof Function ? value(storedValue) : value;
      setStoredValue(valueToStore);
      window.sessionStorage.setItem(key, JSON.stringify(valueToStore));
    } catch (error) {
      console.error(`ì„¸ì…˜ìŠ¤í† ë¦¬ì§€ ì €ì¥ ì˜¤ë¥˜: ${error}`);
    }
  };

  const removeValue = () => {
    try {
      window.sessionStorage.removeItem(key);
      setStoredValue(initialValue);
    } catch (error) {
      console.error(`ì„¸ì…˜ìŠ¤í† ë¦¬ì§€ ì‚­ì œ ì˜¤ë¥˜: ${error}`);
    }
  };

  return [storedValue, setValue, removeValue];
}

// ë‹¤ë‹¨ê³„ í¼ ì˜ˆì‹œ ì»´í¬ë„ŒíŠ¸
function MultiStepForm() {
  const [currentStep, setCurrentStep] = useSessionStorage('currentStep', 1);
  const [formData, setFormData] = useSessionStorage('formData', {
    step1: {},
    step2: {},
    step3: {},
  });

  const updateFormData = (step, data) => {
    setFormData((prev) => ({
      ...prev,
      [step]: { ...prev[step], ...data },
    }));
  };

  const nextStep = () => {
    if (currentStep < 3) {
      setCurrentStep(currentStep + 1);
    }
  };

  const prevStep = () => {
    if (currentStep > 1) {
      setCurrentStep(currentStep - 1);
    }
  };

  const resetForm = () => {
    setCurrentStep(1);
    setFormData({ step1: {}, step2: {}, step3: {} });
  };

  return (
    <div>
      <h3>ë‹¤ë‹¨ê³„ í¼ (ë‹¨ê³„: {currentStep}/3)</h3>

      {currentStep === 1 && (
        <div>
          <input
            placeholder='ì´ë¦„'
            value={formData.step1.name || ''}
            onChange={(e) => updateFormData('step1', { name: e.target.value })}
          />
        </div>
      )}

      {currentStep === 2 && (
        <div>
          <input
            placeholder='ì´ë©”ì¼'
            value={formData.step2.email || ''}
            onChange={(e) => updateFormData('step2', { email: e.target.value })}
          />
        </div>
      )}

      {currentStep === 3 && (
        <div>
          <p>ì…ë ¥ëœ ì •ë³´:</p>
          <pre>{JSON.stringify(formData, null, 2)}</pre>
        </div>
      )}

      <div>
        <button onClick={prevStep} disabled={currentStep === 1}>
          ì´ì „
        </button>
        <button onClick={nextStep} disabled={currentStep === 3}>
          ë‹¤ìŒ
        </button>
        <button onClick={resetForm}>ì´ˆê¸°í™”</button>
      </div>
    </div>
  );
}

// í˜ì´ì§€ ìƒíƒœ ë³µì› í›…
function usePageState(key) {
  const [state, setState] = useSessionStorage(key, null);

  // ì»´í¬ë„ŒíŠ¸ ì–¸ë§ˆìš´íŠ¸ ì‹œ ìƒíƒœ ì €ì¥
  useEffect(() => {
    return () => {
      // ì •ë¦¬ ì‘ì—…ì´ í•„ìš”í•œ ê²½ìš°
    };
  }, []);

  return [state, setState];
}
```

### íƒ­ ê²©ë¦¬

- ê° ë¸Œë¼ìš°ì € íƒ­/ì°½ë§ˆë‹¤ ë…ë¦½ì ì¸ ì €ì¥ì†Œ
- ê°™ì€ ë„ë©”ì¸ì´ë¼ë„ íƒ­ ê°„ ë°ì´í„° ê³µìœ  ë¶ˆê°€
- ìƒˆ íƒ­ì—ì„œ ë§í¬ë¥¼ ì—´ë©´ ì„¸ì…˜ìŠ¤í† ë¦¬ì§€ëŠ” ë³µì‚¬ë˜ì§€ ì•ŠìŒ

### ì‚¬ìš© ì‚¬ë¡€

- ë‹¤ë‹¨ê³„ í¼ì˜ ì„ì‹œ ë°ì´í„°
- í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨ ì‹œ ìƒíƒœ ë³µì›
- ì¼íšŒì„± ì‚¬ìš©ì ì…ë ¥ ë³´ì¡´
- ì„ì‹œ ìºì‹œ ë°ì´í„°

## ìƒì„¸ ë¹„êµí‘œ

| íŠ¹ì„±                | ì¿ í‚¤                       | ë¡œì»¬ìŠ¤í† ë¦¬ì§€     | ì„¸ì…˜ìŠ¤í† ë¦¬ì§€       |
| ------------------- | -------------------------- | ---------------- | ------------------ |
| **ìµœëŒ€ ìš©ëŸ‰**       | 4KB/ì¿ í‚¤                   | 5-10MB/ë„ë©”ì¸    | 5-10MB/ë„ë©”ì¸      |
| **ì§€ì†ì„±**          | ë§Œë£Œ ì‹œê°„ê¹Œì§€              | ëª…ì‹œì  ì‚­ì œê¹Œì§€  | íƒ­ ì¢…ë£Œê¹Œì§€        |
| **ì„œë²„ ì „ì†¡**       | ìë™ ì „ì†¡                  | ì „ì†¡ ì•ˆë¨        | ì „ì†¡ ì•ˆë¨          |
| **ì ‘ê·¼ ë²”ìœ„**       | ë„ë©”ì¸/ê²½ë¡œ ê¸°ë°˜           | ë„ë©”ì¸ ê¸°ë°˜      | íƒ­ë³„ ê²©ë¦¬          |
| **JavaScript ì ‘ê·¼** | document.cookie            | localStorage API | sessionStorage API |
| **ë³´ì•ˆ ì˜µì…˜**       | Secure, HttpOnly, SameSite | ì—†ìŒ             | ì—†ìŒ               |
| **ë¸Œë¼ìš°ì € ì§€ì›**   | ëª¨ë“  ë¸Œë¼ìš°ì €              | IE 8+            | IE 8+              |
| **ì„±ëŠ¥ ì˜í–¥**       | ë„¤íŠ¸ì›Œí¬ ì˜¤ë²„í—¤ë“œ          | ì—†ìŒ             | ì—†ìŒ               |

## ì„ íƒ ê°€ì´ë“œ

### ì¿ í‚¤ë¥¼ ì„ íƒí•´ì•¼ í•˜ëŠ” ê²½ìš°

- ì„œë²„ì—ì„œ ë°ì´í„°ì— ì ‘ê·¼í•´ì•¼ í•  ë•Œ
- ì‚¬ìš©ì ì¸ì¦/ì„¸ì…˜ ê´€ë¦¬
- ì‘ì€ í¬ê¸°ì˜ ì„¤ì •ê°’ (4KB ì´í•˜)
- ë§Œë£Œ ì‹œê°„ì´ ì¤‘ìš”í•œ ë°ì´í„°

### ë¡œì»¬ìŠ¤í† ë¦¬ì§€ë¥¼ ì„ íƒí•´ì•¼ í•˜ëŠ” ê²½ìš°

- ëŒ€ìš©ëŸ‰ ë°ì´í„° ì €ì¥ (5MB+)
- ë¸Œë¼ìš°ì € ì¢…ë£Œ í›„ì—ë„ ìœ ì§€ë˜ì–´ì•¼ í•˜ëŠ” ë°ì´í„°
- í´ë¼ì´ì–¸íŠ¸ ì „ìš© ë°ì´í„°
- ì‚¬ìš©ì ì„¤ì •, í…Œë§ˆ, ì–¸ì–´ ë“±

### ì„¸ì…˜ìŠ¤í† ë¦¬ì§€ë¥¼ ì„ íƒí•´ì•¼ í•˜ëŠ” ê²½ìš°

- ì„ì‹œ ë°ì´í„° ì €ì¥
- í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨ ì‹œì—ë§Œ ìœ ì§€í•˜ë©´ ë˜ëŠ” ë°ì´í„°
- íƒ­ë³„ë¡œ ë…ë¦½ì ì´ì–´ì•¼ í•˜ëŠ” ë°ì´í„°
- í¼ ì…ë ¥ê°’, ìœ„ì €ë“œ ë‹¨ê³„ ë“±

## ë³´ì•ˆ ê³ ë ¤ì‚¬í•­

### ê³µí†µ ì£¼ì˜ì‚¬í•­

- **ë¯¼ê°í•œ ì •ë³´ ì €ì¥ ê¸ˆì§€**: ë¹„ë°€ë²ˆí˜¸, ì‹ ìš©ì¹´ë“œ ì •ë³´ ë“±
- **XSS ê³µê²© ëŒ€ë¹„**: ì‚¬ìš©ì ì…ë ¥ê°’ ê²€ì¦ ë° ì´ìŠ¤ì¼€ì´í”„
- **ë°ì´í„° ì•”í˜¸í™”**: í•„ìš”ì‹œ í´ë¼ì´ì–¸íŠ¸ ì¸¡ ì•”í˜¸í™” ì ìš©

### ì¿ í‚¤ ë³´ì•ˆ

```javascript
// ë³´ì•ˆ ì¿ í‚¤ ì„¤ì • ì˜ˆì‹œ
document.cookie = 'sessionId=abc123; Secure; HttpOnly; SameSite=Strict; Max-Age=3600';
```

### Web Storage ë³´ì•ˆ

- ë™ì¼ ì¶œì²˜ ì •ì±…(Same-Origin Policy) ì ìš©
- HTTPS ì‚¬ìš© ê¶Œì¥
- ì •ê¸°ì ì¸ ë°ì´í„° ì •ë¦¬

## ì‹¤ì œ ì‚¬ìš© ì˜ˆì‹œ

<details>
<summary>ì‚¬ìš©ì ì„¤ì • ê´€ë¦¬</summary>

```jsx
import { useLocalStorage } from './hooks/useLocalStorage';

function ThemeProvider({ children }) {
  const [theme, setTheme] = useLocalStorage('userTheme', 'light');

  const toggleTheme = () => {
    setTheme((prevTheme) => (prevTheme === 'light' ? 'dark' : 'light'));
  };

  useEffect(() => {
    document.documentElement.setAttribute('data-theme', theme);
  }, [theme]);

  return (
    <div className={`theme-${theme}`}>
      <button onClick={toggleTheme}>{theme === 'light' ? 'ğŸŒ™' : 'â˜€ï¸'} í…Œë§ˆ ë³€ê²½</button>
      {children}
    </div>
  );
}

// ì‚¬ìš©ì ì„ í˜¸ë„ ê´€ë¦¬
function UserPreferences() {
  const [preferences, setPreferences] = useLocalStorage('userPreferences', {
    language: 'ko',
    notifications: true,
    autoSave: true,
  });

  const updatePreference = (key, value) => {
    setPreferences((prev) => ({ ...prev, [key]: value }));
  };

  return (
    <div>
      <h3>ì‚¬ìš©ì ì„¤ì •</h3>
      <label>
        ì–¸ì–´:
        <select value={preferences.language} onChange={(e) => updatePreference('language', e.target.value)}>
          <option value='ko'>í•œêµ­ì–´</option>
          <option value='en'>English</option>
        </select>
      </label>

      <label>
        <input
          type='checkbox'
          checked={preferences.notifications}
          onChange={(e) => updatePreference('notifications', e.target.checked)}
        />
        ì•Œë¦¼ ë°›ê¸°
      </label>

      <label>
        <input
          type='checkbox'
          checked={preferences.autoSave}
          onChange={(e) => updatePreference('autoSave', e.target.checked)}
        />
        ìë™ ì €ì¥
      </label>
    </div>
  );
}
```

</details>

<details>
<summary>í¼ ë°ì´í„° ì„ì‹œ ì €ì¥</summary>

```jsx
import { useSessionStorage } from './hooks/useSessionStorage';
import { useEffect } from 'react';

function ContactForm() {
  const [formData, setFormData] = useSessionStorage('contactForm', {
    name: '',
    email: '',
    message: '',
  });

  const handleInputChange = (field, value) => {
    setFormData((prev) => ({ ...prev, [field]: value }));
  };

  const handleSubmit = async (e) => {
    e.preventDefault();

    try {
      // API í˜¸ì¶œ
      await submitForm(formData);

      // ì„±ê³µ ì‹œ ì„¸ì…˜ìŠ¤í† ë¦¬ì§€ í´ë¦¬ì–´
      setFormData({ name: '', email: '', message: '' });
      alert('í¼ì´ ì„±ê³µì ìœ¼ë¡œ ì œì¶œë˜ì—ˆìŠµë‹ˆë‹¤!');
    } catch (error) {
      alert('ì œì¶œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
    }
  };

  // í˜ì´ì§€ ì´íƒˆ ì‹œ ê²½ê³ 
  useEffect(() => {
    const hasUnsavedData = Object.values(formData).some((value) => value.trim() !== '');

    const handleBeforeUnload = (e) => {
      if (hasUnsavedData) {
        e.preventDefault();
        e.returnValue = '';
      }
    };

    window.addEventListener('beforeunload', handleBeforeUnload);
    return () => window.removeEventListener('beforeunload', handleBeforeUnload);
  }, [formData]);

  return (
    <form onSubmit={handleSubmit}>
      <div>
        <label>ì´ë¦„:</label>
        <input type='text' value={formData.name} onChange={(e) => handleInputChange('name', e.target.value)} required />
      </div>

      <div>
        <label>ì´ë©”ì¼:</label>
        <input
          type='email'
          value={formData.email}
          onChange={(e) => handleInputChange('email', e.target.value)}
          required
        />
      </div>

      <div>
        <label>ë©”ì‹œì§€:</label>
        <textarea
          value={formData.message}
          onChange={(e) => handleInputChange('message', e.target.value)}
          rows={4}
          required
        />
      </div>

      <button type='submit'>ì œì¶œ</button>
      <button type='button' onClick={() => setFormData({ name: '', email: '', message: '' })}>
        ì´ˆê¸°í™”
      </button>
    </form>
  );
}
```

</details>

<details>
<summary>ì¸ì¦ í† í° ê´€ë¦¬</summary>

```jsx
import { createContext, useContext, useEffect, useState } from 'react';

const AuthContext = createContext();

export function AuthProvider({ children }) {
  const [user, setUser] = useState(null);
  const [loading, setLoading] = useState(true);

  // ì¿ í‚¤ì—ì„œ í† í° ì½ê¸° (HttpOnly ì¿ í‚¤ëŠ” JavaScriptë¡œ ì ‘ê·¼ ë¶ˆê°€)
  // ì‹¤ì œë¡œëŠ” ì„œë²„ì—ì„œ ì„¤ì •í•˜ê³  API í˜¸ì¶œë¡œ ì‚¬ìš©ì ì •ë³´ í™•ì¸
  useEffect(() => {
    const checkAuth = async () => {
      try {
        // API í˜¸ì¶œë¡œ í˜„ì¬ ì‚¬ìš©ì ì •ë³´ í™•ì¸
        const response = await fetch('/api/auth/me', {
          credentials: 'include', // ì¿ í‚¤ í¬í•¨
        });

        if (response.ok) {
          const userData = await response.json();
          setUser(userData);
        }
      } catch (error) {
        console.error('ì¸ì¦ í™•ì¸ ì˜¤ë¥˜:', error);
      } finally {
        setLoading(false);
      }
    };

    checkAuth();
  }, []);

  const login = async (credentials) => {
    try {
      const response = await fetch('/api/auth/login', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(credentials),
        credentials: 'include',
      });

      if (response.ok) {
        const userData = await response.json();
        setUser(userData);
        return { success: true };
      } else {
        return { success: false, error: 'ë¡œê·¸ì¸ ì‹¤íŒ¨' };
      }
    } catch (error) {
      return { success: false, error: error.message };
    }
  };

  const logout = async () => {
    try {
      await fetch('/api/auth/logout', {
        method: 'POST',
        credentials: 'include',
      });
      setUser(null);
    } catch (error) {
      console.error('ë¡œê·¸ì•„ì›ƒ ì˜¤ë¥˜:', error);
    }
  };

  const value = {
    user,
    login,
    logout,
    loading,
  };

  return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>;
}

export function useAuth() {
  const context = useContext(AuthContext);
  if (!context) {
    throw new Error('useAuthëŠ” AuthProvider ë‚´ì—ì„œ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤');
  }
  return context;
}

// ì‚¬ìš© ì˜ˆì‹œ
function LoginForm() {
  const { login } = useAuth();
  const [credentials, setCredentials] = useState({ email: '', password: '' });

  const handleSubmit = async (e) => {
    e.preventDefault();
    const result = await login(credentials);

    if (!result.success) {
      alert(result.error);
    }
  };

  return (
    <form onSubmit={handleSubmit}>
      <input
        type='email'
        placeholder='ì´ë©”ì¼'
        value={credentials.email}
        onChange={(e) => setCredentials((prev) => ({ ...prev, email: e.target.value }))}
      />
      <input
        type='password'
        placeholder='ë¹„ë°€ë²ˆí˜¸'
        value={credentials.password}
        onChange={(e) => setCredentials((prev) => ({ ...prev, password: e.target.value }))}
      />
      <button type='submit'>ë¡œê·¸ì¸</button>
    </form>
  );
}
```

</details>

## ì •ë¦¬

- ì¿ í‚¤: ì¼ì‹œì ìœ¼ë¡œ í•„ìš”í•œ ê°€ë²¼ìš´ ë°ì´í„° ì €ì¥ì´ í•„ìš”í•  ë•Œ
  - ë‹¤ì‹œ ë³´ì§€ ì•ŠìŒ ì¿ í‚¤ íŒì—…ì°½, ë¡œê·¸ì¸ ìë™ ì™„ì„±
- ë¡œì»¬ ìŠ¤í† ë¦¬ì§€: ì§€ì†ì ìœ¼ë¡œ í•„ìš”í•œ ë°ì´í„° ì €ì¥ì´ í•„ìš”í•  ë•Œ
  - ìë™ ë¡œê·¸ì¸
- ì„¸ì…˜ ìŠ¤í† ë¦¬ì§€: ì¼ì‹œì ìœ¼ë¡œ í•„ìš”í•œ ë°ì´í„° ì €ì¥ì´ í•„ìš”í•  ë•Œ
  - ì¼íšŒì„± ë¡œê·¸ì¸, ì…ë ¥ í¼ ì €ì¥, ë¹„ë¡œê·¸ì¸ ì¥ë°”êµ¬ë‹ˆ

## ì°¸ê³  ìë£Œ

- [MDN Web Storage API](https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API)
- [MDN HTTP Cookies](https://developer.mozilla.org/en-US/docs/Web/HTTP/Cookies)
- [RFC 6265 - HTTP State Management Mechanism](https://tools.ietf.org/html/rfc6265)
- [W3C Web Storage Specification](https://www.w3.org/TR/webstorage/)
